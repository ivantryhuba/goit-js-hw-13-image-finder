{"version":3,"sources":["js/apiService.js","index.js"],"names":["PixApiService","constructor","searchQuery","page","fetchArticles","API_KEY","URL","fetch","then","r","json","data","query","newQuery","refs","searchForm","document","querySelector","gallery","loadMoreBtn","pixApiService","onSearch","evt","preventDefault","currentTarget","elements","value","trim","onLoadMore","addEventListener"],"mappings":";AAAmC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAApB,MAAMA,EACnBC,cACOC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAGdC,cAAcF,GACNG,MACAC,gCAAoC,KAAKJ,oBAAoB,KAAKC,kGAExEI,MAAMD,GACHE,KAAKC,GAAKA,EAAEC,QACZF,KAAKG,IACCR,KAAAA,MAAQ,IAIfS,YACK,OAAA,KAAKV,YAGVU,UAAMC,GACHX,KAAAA,YAAcW,GAtBY,QAAA,QAAA;;AC8B9B,aA3BL,IAAA,EAAA,EAAA,QAAA,oBA2BK,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzBL,MAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,QAASF,SAASC,cAAc,YAChCE,YAAaH,SAASC,cAAc,8BAGhCG,EAAgB,IAAIpB,EAAJ,QAOtB,SAASqB,EAASC,GACdA,EAAIC,iBAEkD,KAAlDD,EAAIE,cAAcC,SAASb,MAAMc,MAAMC,SAI3CP,EAAcR,MAAQU,EAAIE,cAAcC,SAASb,MAAMc,MAAMC,OAC7DP,EAAchB,iBAElB,SAASwB,IACPR,EAAchB,gBAhBhBU,EAAKC,WAAWc,iBAAiB,SAAUR,GAC3CP,EAAKK,YAAYU,iBAAiB,QAASD","file":"src.5d18b507.js","sourceRoot":"../src","sourcesContent":["export default class PixApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles(searchQuery) {\n    const API_KEY = '21947643-3ad5511e98ce1ab16d6eede2a';\n    const URL = `https://pixabay.com/api/?q=${this.searchQuery}&page=${this.page}&per_page=12&image_type=photo&orientation=horizontal&key=${API_KEY}`;\n\n    fetch(URL)\n      .then(r => r.json())\n      .then(data => {\n        this.page += 1;\n      });\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","// import './sass/main.scss';\n// import { refs } from './js/refs'\n\nimport PixApiService from './js/apiService';\n\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('[data-action=\"load-more\"]'),\n};\n\nconst pixApiService = new PixApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\n\n\nfunction onSearch(evt) {\n    evt.preventDefault();\n\n    if (evt.currentTarget.elements.query.value.trim() === '') {\n        return\n    }\n\n    pixApiService.query = evt.currentTarget.elements.query.value.trim();\n    pixApiService.fetchArticles();\n}\nfunction onLoadMore() {\n  pixApiService.fetchArticles();\n    };\n"]}